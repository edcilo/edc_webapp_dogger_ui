(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{48:function(e,t,r){},49:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),n=r(22),o=r.n(n),c=r(8),l=(r(48),r(49),r(15)),i=r(4),d="USER_LOGIN",u="USER_LOGOUT",b="WALKERS_SET",h="RESERVATIONS_SET",p="RESERVATION_CREATE",j="RESERVATION_UPDATE",x="RESERVATION_DELETE",m=function(){return{type:u,payloud:{}}},v=r(0);function f(e){var t=e.user,r=e.logoutHandler;return Object(v.jsx)("header",{className:"z-40 py-4  bg-gray-800",children:Object(v.jsxs)("div",{className:"flex items-center justify-between h-8 px-6 mx-auto",children:[Object(v.jsx)("div",{className:"py-3 px-2",children:Object(v.jsx)(l.b,{className:"inline-flex items-center w-full text-sm font-semibold text-white transition-colors duration-150 cursor-pointer hover:text-blue-500",to:"/",children:Object(v.jsx)("p",{className:"text-2xl text-center text-blue-500 font-semibold",children:"Dogger"})})}),Object(v.jsxs)("ul",{className:"flex items-right flex-shrink-0 space-x-6",children:[t.token?Object(v.jsx)("li",{className:"relative px-2 py-1",children:Object(v.jsxs)("span",{className:"text-sm font-semibold text-white transition-colors duration-150 cursor-pointer",children:[t.data.firstname," ",t.data.lastname]})}):null,t.token?Object(v.jsx)("li",{className:"relative px-2 py-1",children:Object(v.jsx)("button",{className:"text-sm font-semibold text-white transition-colors duration-150 cursor-pointer hover:text-blue-500 focus:outline-none",onClick:r,children:"Logout"})}):Object(v.jsx)("li",{className:"relative px-2 py-1",children:Object(v.jsx)(l.b,{className:"inline-flex items-center w-full text-sm font-semibold text-white transition-colors duration-150 cursor-pointer hover:text-blue-500",to:"/login",children:Object(v.jsx)("span",{className:"ml-4",children:"Login"})})})]})]})})}var O=r(3),g=r(24);var w=Object(c.b)((function(e){return{user:e.user}}))((function(e){var t=e.children,r=e.component,a=e.user,s=Object(g.a)(e,["children","component","user"]);return a.token?r?Object(v.jsx)(i.b,Object(O.a)(Object(O.a)({},s),{},{component:r})):Object(v.jsx)(i.b,Object(O.a)(Object(O.a)({},s),{},{render:function(){return t}})):Object(v.jsx)(i.b,Object(O.a)(Object(O.a)({},s),{},{render:function(e){var t=e.location;return Object(v.jsx)(i.a,{to:{pathname:"/login",state:{from:t}}})}}))}));var y=Object(c.b)((function(e){return{user:e.user}}))((function(e){var t=e.children,r=e.user,a=Object(g.a)(e,["children","user"]),s=r;return Object(v.jsx)(i.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){var r=e.location;return null===s.token?t:Object(v.jsx)(i.a,{to:{pathname:"/",state:{from:r}}})}}))})),k=r(7),N=r.n(k),S=r(13),_=r(5),E=r(6),R=r(18),L=r(17),A=r(16),C=r.n(A),U="https://users.edcilo.com",D="https://dogger.edcilo.com",H=3e3,I=function(){function e(){Object(_.a)(this,e),this.baseUrl=U,this.resource="/api/v1",this.timeout=H,this.http=C.a.create({baseURL:this.baseUrl,timeout:this.timeout})}return Object(E.a)(e,[{key:"login",value:function(e,t){return this.http.post("".concat(this.resource,"/token/"),{email:e,password:t})}},{key:"decode",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}}]),e}(),M=function(e){Object(R.a)(r,e);var t=Object(L.a)(r);function r(e){var a;return Object(_.a)(this,r),(a=t.call(this,e)).updateUsername=function(e){a.setState({username:e})},a.updatePassword=function(e){a.setState({password:e})},a.clearErrors=function(){a.setState({error:null,errors:a.errors})},a.clearData=function(){a.setState({username:"",password:""})},a.setGeneralError=function(e){a.setState({error:e.detail})},a.setErrors=function(e){var t={};for(var r in e)t[r]=e[r][0];a.setState({errors:t})},a.handlerLogin=Object(S.a)(N.a.mark((function e(){var t,r,s,n,o,c,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.username,r=a.state.password,a.clearErrors(),e.prev=3,e.next=6,a.user.login(t,r);case 6:s=e.sent,n=s.data.access,o=a.user.decode(n),a.props.userLogin({access:n,refresh:s.data.refresh,data:o}),a.clearData(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),c=e.t0.response.status,l=e.t0.response.data,400===c?a.setErrors(l):401===c&&a.setGeneralError(l);case 18:case"end":return e.stop()}}),e,null,[[3,13]])}))),a.user=new I,a.errors={username:null,password:null},a.state={username:"user+06@edcilo.com",password:"secret123.",error:null,errors:a.errors},a}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"min-h-screen bg-gray-100 p-0 sm:p-12",children:Object(v.jsxs)("div",{className:"mx-auto max-w-md px-6 py-12 bg-white border-0 shadow-lg sm:rounded",children:[Object(v.jsx)("h1",{className:"text-2xl text-center font-bold mb-8",children:"Log In"}),this.state.error?Object(v.jsx)("div",{className:"mb-6 block text-sm text-left text-red-600 bg-red-200 border border-red-400 h-12 flex items-center p-4 rounded-sm",role:"alert",children:this.state.error}):null,Object(v.jsxs)("div",{className:"mb-6",children:[Object(v.jsx)("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"username",children:"Email"}),Object(v.jsx)("input",{className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker mb-1",id:"username",type:"text",value:this.state.username,onChange:function(t){return e.updateUsername(t.target.value)}}),Object(v.jsx)("p",{className:"text-red text-xs italic",children:this.state.errors.username})]}),Object(v.jsxs)("div",{className:"mb-8",children:[Object(v.jsx)("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker mb-1",id:"password",type:"password",value:this.state.password,onChange:function(t){return e.updatePassword(t.target.value)}}),Object(v.jsx)("p",{className:"text-red text-xs italic",children:this.state.errors.password})]}),Object(v.jsx)("div",{className:"flex items-center justify-center",children:Object(v.jsx)("button",{type:"button",className:"w-full px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-blue hover:bg-blue-dark hover:shadow-md focus:outline-none",onClick:this.handlerLogin,children:"Send"})})]})})}}]),r}(s.a.Component),T=Object(c.b)((function(e){return{user:e.user}}),{userLogin:function(e){var t=e.access,r=e.refresh,a=e.data;return{type:d,payload:{token:t,refresh:r,data:a}}}})(M),z=function(){function e(t){Object(_.a)(this,e),this.baseUrl=D,this.resource="/api/v1",this.timeout=H,this.http=C.a.create({baseURL:this.baseUrl,timeout:this.timeout,headers:{Authorization:"Bearer ".concat(t)}})}return Object(E.a)(e,[{key:"getAll",value:function(){return this.http.get("".concat(this.resource,"/reservation/"))}},{key:"create",value:function(e){var t=e.walker,r=e.dog,a=e.schedule,s=e.date;return this.http.post("".concat(this.resource,"/reservation/"),{walker:t,dog:r,schedule:a,date:s})}},{key:"update",value:function(e,t){var r=t.type,a=t.schedule_at,s=t.note,n=t.client,o=e.id;return this.http.put("".concat(this.resource,"/reservation/").concat(o,"/"),{type:r,schedule_at:a,client:n,note:s})}},{key:"delete",value:function(e){var t=e.id;return this.http.delete("".concat(this.resource,"/reservation/").concat(t,"/"))}}]),e}(),F=function(){function e(t){Object(_.a)(this,e),this.baseUrl=U,this.resource="/api/v1",this.timeout=H,this.http=C.a.create({baseURL:this.baseUrl,timeout:this.timeout,headers:{Authorization:"Bearer ".concat(t)}})}return Object(E.a)(e,[{key:"getAll",value:function(){return this.http.get("".concat(this.resource,"/users/"),{params:{role:"walker"}})}},{key:"getActivities",value:function(e,t){var r=t.type,a=t.start,s=t.end;return this.http.get("".concat(this.resource,"/client/").concat(e,"/activities/"),{params:{type:r,start:a,end:s}})}}]),e}();function B(e){return Object(v.jsx)("div",{className:"main-modal fixed w-full inset-0 z-50 overflow-hidden flex justify-center items-center animated fadeIn faster bg-black bg-opacity-40",children:Object(v.jsxs)("div",{className:"border shadow-lg modal-container bg-white w-4/12 md:max-w-11/12 mx-auto rounded shadow-lg z-50 overflow-y-auto p-5",children:[Object(v.jsxs)("div",{className:"flex justify-between items-center pb-3",children:[Object(v.jsx)("p",{className:"text-2xl font-bold",children:e.title}),Object(v.jsx)("button",{className:"modal-close cursor-pointer z-50",onClick:e.closeHandler,children:Object(v.jsx)("svg",{className:"fill-current text-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(v.jsx)("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})})})]}),e.children]})})}var G=function(){function e(t){Object(_.a)(this,e),this.baseUrl=D,this.resource="/api/v1",this.timeout=H,this.http=C.a.create({baseURL:this.baseUrl,timeout:this.timeout,headers:{Authorization:"Bearer ".concat(t)}})}return Object(E.a)(e,[{key:"getAll",value:function(){return this.http.get("".concat(this.resource,"/dogs/"))}}]),e}(),P=function(){function e(t){Object(_.a)(this,e),this.baseUrl=D,this.resource="/api/v1",this.timeout=H,this.http=C.a.create({baseURL:this.baseUrl,timeout:this.timeout,headers:{Authorization:"Bearer ".concat(t)}})}return Object(E.a)(e,[{key:"getAll",value:function(e){return this.http.get("".concat(this.resource,"/walker/schedule/"),{params:{walker:e}})}}]),e}();function V(e){var t=e.value,r=e.items,a=e.label,s=e.onChange,n=r.find((function(e){return t===e.id||t===e[a]}));return Object(v.jsxs)("select",{className:"appearance-none w-full border rounded py-2 px-3 text-grey-darker mb-1",onChange:function(e){return s(e.target.value)},value:null===n||void 0===n?void 0:n.index,children:[Object(v.jsx)("option",{children:"Select"}),r.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e[a]},t)}))]})}var W=function(e){Object(R.a)(r,e);var t=Object(L.a)(r);function r(e){var a,s;Object(_.a)(this,r),(s=t.call(this,e)).getDogs=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.dogs.getAll();case 3:t=e.sent,s.setState({dogs:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status&&s.props.userLogout();case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),s.getSchedules=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.schedule.getAll(s.state.walker);case 3:t=e.sent,t.data.map((function(e){switch(parseInt(e.day)){case 0:e.day="domingo";break;case 1:e.day="lunes";break;case 2:e.day="martes";break;case 3:e.day="miercoles";break;case 4:e.day="jueves";break;case 5:e.day="viernes";break;case 6:e.day="sabado"}e.description="".concat(e.day,", ").concat(e.start," - ").concat(e.end)})),s.setState({schedules:t.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),401===e.t0.response.status&&s.props.userLogout();case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),s.updateDog=function(e){s.setState({dog:e})},s.updateSchedule=function(e){s.setState({schedule:e})},s.updateDate=function(e){s.setState({date:e})},s.clearErrors=function(){s.setState({error:null,errors:s.errors})},s.setGeneralError=function(e){s.setState({error:e.detail})},s.setErrors=function(e){var t={};for(var r in e)t[r]=e[r][0];s.setState({errors:t})},s.handlerSubmit=Object(S.a)(N.a.mark((function e(){var t,r,a,n,o,c,l,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state.walker,r=s.state.dog,a=s.state.schedule,n=s.state.date,s.clearErrors(),e.prev=5,"create"!==s.props.action){e.next=13;break}return e.next=9,s.reservations.create({walker:t,dog:r,schedule:a,date:n});case 9:o=e.sent,s.props.reservationAdd({reservation:o.data}),e.next=17;break;case 13:return e.next=15,s.reservations.update(s.props.reservation,{walker:t,dog:r,schedule:a,date:n});case 15:c=e.sent,s.props.reservationUpdate({reservation:c.data});case 17:s.props.successHandler(),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),l=e.t0.response.status,i=e.t0.response.data,400===l?s.setErrors(i):401===l&&s.setGeneralError(i);case 25:case"end":return e.stop()}}),e,null,[[5,20]])}))),s.reservations=new z(s.props.user.token),s.dogs=new G(s.props.user.token),s.schedule=new P(s.props.user.token),s.errors={walker:null,dog:null,schedule:null,date:null};var n=(null===(a=s.props)||void 0===a?void 0:a.reservation)||null;return s.state={dogs:[],schedules:[],walker:s.props.walker,dog:n?n.dog:"",schedule:n?n.schedule:"",date:n?n.date:"",error:null,errors:s.errors},s.getDogs(),s.getSchedules(),s}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[this.state.error?Object(v.jsx)("div",{className:"mb-6 block text-sm text-left text-red-600 bg-red-200 border border-red-400 h-12 flex items-center p-4 rounded-sm",role:"alert",children:this.state.error}):null,Object(v.jsxs)("div",{className:"mb-8",children:[Object(v.jsx)("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"dog",children:"Dog"}),Object(v.jsx)(V,{className:"block w-full",items:this.state.dogs,value:this.state.dog,label:"name",onChange:this.updateDog}),Object(v.jsx)("p",{className:"text-red text-xs italic",children:this.state.errors.dog})]}),Object(v.jsxs)("div",{className:"mb-8",children:[Object(v.jsx)("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"schedule",children:"Schedule"}),Object(v.jsx)(V,{className:"block w-full",items:this.state.schedules,value:this.state.schedule,label:"description",onChange:this.updateSchedule}),Object(v.jsx)("p",{className:"text-red text-xs italic",children:this.state.errors.schedule})]}),Object(v.jsxs)("div",{className:"mb-8",children:[Object(v.jsx)("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"date",children:"Date"}),Object(v.jsx)("input",{className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker mb-1",id:"date",type:"text",placeholder:"YYYY-MM-DD",value:this.state.date,onChange:function(t){return e.updateDate(t.target.value)}}),Object(v.jsx)("p",{className:"text-red text-xs italic",children:this.state.errors.date})]}),Object(v.jsx)("div",{className:"flex items-center justify-center",children:Object(v.jsx)("button",{type:"button",className:"w-full px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-blue hover:bg-blue-dark hover:shadow-md focus:outline-none",onClick:this.handlerSubmit,children:"create"===this.props.action?"Create":"Update"})})]})}}]),r}(s.a.Component),Y=Object(c.b)((function(e){return{user:e.user}}),{reservationAdd:function(e){var t=e.reservation;return{type:p,payload:{reservation:t}}},reservationUpdate:function(e){var t=e.reservation;return{type:j,payload:{reservation:t}}}})(W),J=function(e){Object(R.a)(r,e);var t=Object(L.a)(r);function r(e){var a;return Object(_.a)(this,r),(a=t.call(this,e)).setError=function(e){a.setState({error:e.detail})},a.clearErrors=function(){a.setState({error:null})},a.handlerSubmit=Object(S.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.clearErrors(),e.prev=1,e.next=4,a.reservation.delete(a.props.reservation);case 4:e.sent,a.props.reservationDelete({reservation:a.props.reservation}),a.props.successHandler(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),t=e.t0.response.status,r=e.t0.response.data,401===t&&a.setError(r);case 14:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.reservation=new z(a.props.user.token),a.state={error:null},a}return Object(E.a)(r,[{key:"render",value:function(){var e=this.props.reservation;return Object(v.jsxs)("div",{children:[this.state.error?Object(v.jsx)("div",{className:"mb-6 block text-sm text-left text-red-600 bg-red-200 border border-red-400 h-12 flex items-center p-4 rounded-sm",role:"alert",children:this.state.error}):null,Object(v.jsx)("p",{className:"mb-6",children:"Are you absolutely sure?"}),e?Object(v.jsx)("ul",{className:"mb-6",children:Object(v.jsxs)("li",{children:[e.dog.name," - ",e.date]})}):null,Object(v.jsx)("div",{className:"flex items-center justify-center",children:Object(v.jsx)("button",{type:"button",className:"w-full px-6 py-3 mt-3 text-lg text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-red hover:bg-red-dark hover:shadow-md focus:outline-none",onClick:this.handlerSubmit,children:"DELETE"})})]})}}]),r}(s.a.Component),K=Object(c.b)((function(e){return{user:e.user}}),{reservationDelete:function(e){var t=e.reservation;return{type:x,payload:{reservation:t}}}})(J),q=function(e){Object(R.a)(r,e);var t=Object(L.a)(r);function r(e){var a;return Object(_.a)(this,r),(a=t.call(this,e)).getReservations=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.reservationsSet({reservations:[]}),e.prev=1,e.next=4,a.reservation.getAll();case 4:t=e.sent,a.props.reservationsSet({reservations:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),401===e.t0.response.status&&a.props.userLogout();case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.newReservationModalHandler=function(){a.getReservations(),a.setState({new_reservation_modal:!a.state.new_reservation_modal,update_reservation_modal:!1})},a.updateReservationModalHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({reservation:e,update_reservation_modal:!a.state.update_reservation_modal,new_reservation_modal:!1})},a.deleteActivityModalHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({reservation:e,delete_reservation_modal:!a.state.delete_reservation_modal,update_reservation_modal:!1,new_reservation_modal:!1})},a.reservation=new z(a.props.user.token),a.client=new F(a.props.user.token),a.state={walker:a.props.match.params.id,client_id:e.match.params.id,reservation:null,new_reservation_modal:!1,update_reservation_modal:!1,delete_reservation_modal:!1},a.getReservations(),a}return Object(E.a)(r,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"bg-gray-100 p-0 sm:p-12",children:[Object(v.jsx)("div",{className:"mb-4",children:Object(v.jsx)(l.b,{className:"inline-flex items-center w-full text-sm font-semibold text-blue transition-colors duration-150 cursor-pointer hover:text-blue-500",to:"/",children:"< Volver"})}),Object(v.jsxs)("div",{className:"bg-white pb-4 px-4 rounded-md w-full",children:[Object(v.jsxs)("div",{className:"flex justify-between w-full pt-6 mb-8",children:[Object(v.jsx)("h1",{className:"text-2xl text-center font-bold",children:"Reservations"}),Object(v.jsx)("button",{type:"button",className:"px-6 py-3 text-white transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-green hover:bg-green-dark hover:shadow-md focus:outline-none",onClick:this.newReservationModalHandler,children:"New Reservation"})]}),Object(v.jsx)("div",{className:"overflow-x-auto mt-6",children:Object(v.jsxs)("table",{className:"table-auto border-collapse w-full",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{className:"rounded-lg text-sm font-medium text-gray-700 text-left",children:[Object(v.jsx)("th",{className:"px-4 py-2 bg-gray-200",children:"Dog"}),Object(v.jsx)("th",{className:"px-4 py-2 bg-gray-200",children:"Date"}),Object(v.jsx)("th",{className:"px-4 py-2 bg-gray-200"})]})}),Object(v.jsx)("tbody",{className:"text-sm font-normal text-gray-700",children:this.props.reservations.map((function(t,r){var a;return Object(v.jsxs)("tr",{className:"hover:bg-gray-100 border-b border-gray-200 py-10",children:[Object(v.jsx)("td",{className:"px-4 py-4",children:null===t||void 0===t||null===(a=t.dog)||void 0===a?void 0:a.name}),Object(v.jsx)("td",{className:"px-4 py-4",children:null===t||void 0===t?void 0:t.date}),Object(v.jsx)("td",{className:"px-4 text-center",children:Object(v.jsx)("button",{type:"button",className:"px-3 py-2 rounded shadow bg-red text-white hover:bg-red-dark hover:shadow-md focus:outline-none disabled:bg-yellow",disabled:"closed"===(null===t||void 0===t?void 0:t.status),onClick:function(){return e.deleteActivityModalHandler(t)},children:"Delete"})})]},null===t||void 0===t?void 0:t.id)}))})]})}),this.state.new_reservation_modal?Object(v.jsx)(B,{title:"New Reservation",closeHandler:this.newReservationModalHandler,children:Object(v.jsx)(Y,{action:"create",walker:this.state.walker,clientId:this.state.client_id,successHandler:this.newReservationModalHandler})}):null,this.state.update_reservation_modal?Object(v.jsx)(B,{title:"Update Activity",closeHandler:function(){return e.updateReservationModalHandler()},children:Object(v.jsx)(Y,{action:"update",walker:this.state.walker,clientId:this.state.client_id,activity:this.state.activity,successHandler:function(){return e.updateReservationModalHandler()}})}):null,this.state.delete_reservation_modal?Object(v.jsx)(B,{title:"Delete Reservation",closeHandler:function(){return e.deleteActivityModalHandler()},children:Object(v.jsx)(K,{walker:this.state.walker,reservation:this.state.reservation,successHandler:function(){return e.deleteActivityModalHandler()}})}):null]})]})}}]),r}(s.a.Component),Q=Object(c.b)((function(e){return{user:e.user,reservations:e.reservations.all||[]}}),{reservationsSet:function(e){var t=e.reservations;return{type:h,payload:{reservations:t}}},userLogout:m})(Object(i.g)(q)),X=function(e){Object(R.a)(r,e);var t=Object(L.a)(r);function r(e){var a;return Object(_.a)(this,r),(a=t.call(this,e)).walker=new F(a.props.user.token),a.getWalkers(),a}return Object(E.a)(r,[{key:"getWalkers",value:function(){var e=Object(S.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.walker.getAll();case 3:t=e.sent,this.props.walkersSet({walkers:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status&&this.props.userLogout();case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsx)("div",{className:"bg-gray-100 p-0 sm:p-12",children:Object(v.jsxs)("div",{className:"bg-white pb-4 px-4 rounded-md w-full",children:[Object(v.jsx)("div",{className:"flex justify-between w-full pt-6 mb-8",children:Object(v.jsx)("h1",{className:"text-2xl text-center font-bold",children:"Walkers"})}),Object(v.jsx)("div",{className:"overflow-x-auto mt-6",children:Object(v.jsxs)("table",{className:"table-auto border-collapse w-full",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{className:"rounded-lg text-sm font-medium text-gray-700 text-left",children:[Object(v.jsx)("th",{className:"px-4 py-2 bg-gray-200",children:"Name"}),Object(v.jsx)("th",{className:"px-4 py-2 bg-gray-200",children:"Email"})]})}),Object(v.jsx)("tbody",{className:"text-sm font-normal text-gray-700",children:this.props.walkers.map((function(e,t){return Object(v.jsxs)("tr",{className:"hover:bg-gray-100 border-b border-gray-200 py-10",children:[Object(v.jsx)("td",{className:"px-4 py-4",children:Object(v.jsx)(l.b,{className:"inline-flex items-center w-full text-sm font-semibold text-blue transition-colors duration-150 cursor-pointer hover:text-blue-500",to:"/walker/".concat(e.uuid),children:e.username})}),Object(v.jsx)("td",{className:"px-4 py-4",children:e.email})]},t)}))})]})})]})})}}]),r}(s.a.Component),Z=Object(c.b)((function(e){return{user:e.user,walkers:e.walkers.all||[]}}),{userLogout:m,walkersSet:function(e){var t=e.walkers;return{type:b,payload:{walkers:t}}}})(X);var $=Object(c.b)((function(e){return{user:e.user}}),{userLogout:m})((function(e){var t=e.user,r=e.userLogout;return Object(v.jsx)(l.a,{children:Object(v.jsx)("div",{className:"flex h-screen bg-gray-800 ",children:Object(v.jsxs)("div",{className:"flex flex-col flex-1 w-full overflow-y-auto",children:[Object(v.jsx)(f,{user:t,logoutHandler:r}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(y,{path:"/login",children:Object(v.jsx)(T,{})}),Object(v.jsx)(w,{path:"/walker/:id",component:Q}),Object(v.jsx)(w,{path:"/",children:Object(v.jsx)(Z,{})})]})]})})})})),ee=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,75)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;r(e),a(e),s(e),n(e),o(e)}))},te=r(19),re=r(30),ae=r(39),se=r.n(ae),ne={token:null,refresh_token:null,data:null},oe=r(25),ce={all:[]},le={all:[]},ie=Object(te.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var r=t.payload.token,a=t.payload.refresh,s=t.payload.data;return Object(O.a)(Object(O.a)({},e),{},{token:r,refresh_token:a,data:s});case u:var n=null,o=null,c=null;return Object(O.a)(Object(O.a)({},e),{},{token:n,refresh_token:o,data:c});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var r=t.payload.reservations;return Object(O.a)(Object(O.a)({},e),{},{all:r});case p:var a=[t.payload.reservation].concat(Object(oe.a)(e.all));return Object(O.a)(Object(O.a)({},e),{},{all:a});case j:var s=Object(oe.a)(e.all),n=t.payload.reservation,o=e.all.findIndex((function(e){return e.id===n.id}));return s[o]=n,Object(O.a)(Object(O.a)({},e),{},{all:s});case x:var c=Object(oe.a)(e.all),l=t.payload.reservation,i=e.all.findIndex((function(e){return e.id===l.id}));return c.splice(i,1),Object(O.a)(Object(O.a)({},e),{},{all:c});default:return e}},walkers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var r=t.payload.walkers;return Object(O.a)(Object(O.a)({},e),{},{all:r});default:return e}}}),de={key:"root",storage:se.a},ue=Object(re.a)(de,ie),be=Object(te.b)(ue),he=be,pe=Object(re.b)(be),je=r(40);o.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(c.a,{store:he,children:Object(v.jsx)(je.a,{persistor:pe,children:Object(v.jsx)($,{})})})}),document.getElementById("root")),ee()}},[[74,1,2]]]);
//# sourceMappingURL=main.95d00cce.chunk.js.map